/*
 * JavaScript Load Image
 * https://github.com/blueimp/JavaScript-Load-Image
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
!function(t){"use strict";var e=function(t,n,i){var o,r,a=document.createElement("img");if(a.onerror=n,a.onload=function(){!r||i&&i.noRevoke||e.revokeObjectURL(r),n&&n(e.scale(a,i))},e.isInstanceOf("Blob",t)||e.isInstanceOf("File",t))o=r=e.createObjectURL(t),a._type=t.type;else{if("string"!=typeof t)return!1;o=t,i&&i.crossOrigin&&(a.crossOrigin=i.crossOrigin)}return o?(a.src=o,a):e.readFile(t,function(t){var e=t.target;e&&e.result?a.src=e.result:n&&n(t)})},n=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;e.isInstanceOf=function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},e.transformCoordinates=function(){},e.getTransformedOptions=function(t,e){var n,i,o,r,a=e.aspectRatio;if(!a)return e;n={};for(i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n.crop=!0,o=t.naturalWidth||t.width,r=t.naturalHeight||t.height,o/r>a?(n.maxWidth=r*a,n.maxHeight=r):(n.maxWidth=o,n.maxHeight=o/a),n},e.renderImageToCanvas=function(t,e,n,i,o,r,a,c,d,s){return t.getContext("2d").drawImage(e,n,i,o,r,a,c,d,s),t},e.hasCanvasOption=function(t){return t.canvas||t.crop||!!t.aspectRatio},e.scale=function(t,n){function i(){var t=Math.max((c||O)/O,(d||b)/b);t>1&&(O*=t,b*=t)}function o(){var t=Math.min((r||O)/O,(a||b)/b);1>t&&(O*=t,b*=t)}n=n||{};var r,a,c,d,s,h,u,f,g,m,l,v=document.createElement("canvas"),w=t.getContext||e.hasCanvasOption(n)&&v.getContext,p=t.naturalWidth||t.width,R=t.naturalHeight||t.height,O=p,b=R;if(w&&(n=e.getTransformedOptions(t,n),u=n.left||0,f=n.top||0,n.sourceWidth?(s=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(u=p-s-n.right)):s=p-u-(n.right||0),n.sourceHeight?(h=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(f=R-h-n.bottom)):h=R-f-(n.bottom||0),O=s,b=h),r=n.maxWidth,a=n.maxHeight,c=n.minWidth,d=n.minHeight,w&&r&&a&&n.crop?(O=r,b=a,l=s/h-r/a,0>l?(h=a*s/r,void 0===n.top&&void 0===n.bottom&&(f=(R-h)/2)):l>0&&(s=r*h/a,void 0===n.left&&void 0===n.right&&(u=(p-s)/2))):((n.contain||n.cover)&&(c=r=r||c,d=a=a||d),n.cover?(o(),i()):(i(),o())),w){if(g=n.pixelRatio,g>1&&(v.style.width=O+"px",v.style.height=b+"px",O*=g,b*=g,v.getContext("2d").scale(g,g)),m=n.downsamplingRatio,m>0&&1>m&&s>O&&h>b)for(;s*m>O;)v.width=s*m,v.height=h*m,e.renderImageToCanvas(v,t,u,f,s,h,0,0,v.width,v.height),s=v.width,h=v.height,t=document.createElement("canvas"),t.width=s,t.height=h,e.renderImageToCanvas(t,v,0,0,s,h,0,0,s,h);return v.width=O,v.height=b,e.transformCoordinates(v,n),e.renderImageToCanvas(v,t,u,f,s,h,0,0,O,b)}return t.width=O,t.height=b,t},e.createObjectURL=function(t){return n?n.createObjectURL(t):!1},e.revokeObjectURL=function(t){return n?n.revokeObjectURL(t):!1},e.readFile=function(t,e,n){if(window.FileReader){var i=new FileReader;if(i.onload=i.onerror=e,n=n||"readAsDataURL",i[n])return i[n](t),i}return!1},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:t.loadImage=e}(window);
//# sourceMappingURL=./load-image.min.js.map